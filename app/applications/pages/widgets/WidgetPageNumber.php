<?php

namespace applications\pages\widgets;


use applications\main\widgets\WidgetFather;
use applications\pages\entities\Pagina;
use core\db\Field;
use core\services\Response;

class WidgetPageNumber extends WidgetFather {

    public $value = 0;
    public $label = "Widget Card";
    public function prepareToRender(){


        $this->count = Pagina::query()->count();
        $this->inactivePages = Pagina::query()->where("__active__=0")->count();

       return parent::prepareToRender();
    }

    public static function schema()
    {
        return self::mergeSchema([
            "tipo" => Field::text()->editable()->setTemplate("select")->setTemplateVar([
                ["label"=>"valore1","value"=>"Valore"],
                ["label"=>"valore2","value"=>"valore2"]
            ])
        ]);
    }


    static function getTemplate(){
        return "pages/widgets/views/page_number";
    }


    static function getWidgetLabel()
    {
        return "Numero pagine"; // TODO: Change the autogenerated stub
    }

    static function getWidgetName()
    {
        return "page.number"; // TODO: Change the autogenerated stub
    }


}